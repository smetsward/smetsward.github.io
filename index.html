<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Alpine</title>

    <script defer src="https://unpkg.com/alpinejs@3.5.0/dist/cdn.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"></script>
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
    <style>
        table {
            font-family: arial, sans-serif;
            border-collapse: collapse;
            width: 100%;
        }

        td, th {
            border: 1px solid #dddddd;
            text-align: left;
            padding: 8px;
        }

        tr:nth-child(even) {
            background-color: #dddddd;
        }
    </style>
</head>
<body>

<h2>All users</h2>
<div x-data="{
        users: {},
        async getData() {
            this.users = await (await fetch('https://userticket-api-service-smetsward.cloud.okteto.net/users/?skip=0&limit=100')).json();
        }
    }">

    <button x-on:click="getData">Get all users</button>
    <div class="container">
        <div class="row">
            <div class="col-lg-6">
                <div class="icon-box">
                    <table>
                        <tr>
                            <th>Name</th>
                            <th>Ticket</th>
                            <th>Description</th>
                        </tr>
                        <tr>
                            <td x-text="users[0].name">Placeholder</td>
                            <td x-text="users[0].tickets[0].title">Placeholder</td>
                            <td x-text="users[0].tickets[0].description">Placeholder</td>
                        </tr>
                        <tr>
                            <td x-text="users[1].name">Placeholder</td>
                            <td x-text="users[1].tickets[0].title">Placeholder</td>
                            <td x-text="users[1].tickets[0].description">Placeholder</td>
                        </tr>
                        <tr>
                            <td x-text="users[2].name">Placeholder</td>
                            <td x-text="users[2].tickets[0].title">Placeholder</td>
                            <td x-text="users[2].tickets[0].description">Placeholder</td>
                        </tr>
                        <tr>
                            <td x-text="users[3].name">Placeholder</td>
                            <td x-text="users[3].tickets[0].title">Placeholder</td>
                            <td x-text="users[3].tickets[0].description">Placeholder</td>
                        </tr>
                        <tr>
                            <td x-text="users[4].name">Placeholder</td>
                            <td x-text="users[4].tickets[0].title">Placeholder</td>
                            <td x-text="users[4].tickets[0].description">Placeholder</td>
                        </tr>
                        <tr>
                            <td x-text="users[5].name">Placeholder</td>
                            <td x-text="users[5].tickets[0].title">Placeholder</td>
                            <td x-text="users[5].tickets[0].description">Placeholder</td>
                        </tr>
                        <tr>
                            <td x-text="users[6].name">Placeholder</td>
                            <td x-text="users[6].tickets[0].title">Placeholder</td>
                            <td x-text="users[6].tickets[0].description">Placeholder</td>
                        </tr>
                        <tr>
                            <td x-text="users[7].name">Placeholder</td>
                            <td x-text="users[7].tickets[0].title">Placeholder</td>
                            <td x-text="users[7].tickets[0].description">Placeholder</td>
                        </tr>
                        <tr>
                            <td x-text="users[8].name">Placeholder</td>
                            <td x-text="users[8].tickets[0].title">Placeholder</td>
                            <td x-text="users[8].tickets[0].description">Placeholder</td>
                        </tr>
                    </table>
                </div>
            </div>
            <div class="col-lg-6 mt-4 mt-md-0">
                <div class="icon-box">
                    <table>
                        <tr>
                            <th>Name</th>
                            <th>Ticket</th>
                            <th>Description</th>
                        </tr>
                        <tr>
                            <td x-text="users[0].name">Placeholder</td>
                            <td x-text="users[0].tickets[0].title">Placeholder</td>
                            <td x-text="users[0].tickets[0].description">Placeholder</td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

<h2>Create new user</h2>

<div x-data="{
        responsedata: null,
        name: null,
        surname: null,
        async callmethod1() {
            this.responsedata = await (await fetch('https://userticket-api-service-smetsward.cloud.okteto.net/users/',
            {
                method: 'POST',
                body: JSON.stringify({
                    name: this.name,
                    surname: this.surname
                }),
                headers: {
                    'Content-type': 'application/json; charset=UTF-8',
                },
            })).json();

            console.log(this.responsedata);
        },
    }">
    <input type="text" x-model="name">
    <input type="text" x-model="surname">
    <button x-on:click="callmethod1">Summit</button>

</div>

<h2>All tickets</h2>

<div x-data="{
        users: {},
        async getData() {
            this.items = await (await fetch('https://userticket-api-service-smetsward.cloud.okteto.net/users/1')).json();
        }
    }">
    <button x-on:click="getData">Get all items</button>
    <ul>
        <li>Subject: <strong x-text="items[0].title">Placeholder</strong>
            Description: <strong x-text="items[0].description">Placeholder</strong>
        </li>
        <li><strong x-text="items[2].title">Placeholder</strong></li>
        <li><strong x-text="items[3].title">Placeholder</strong></li>
        <li><strong x-text="items[4].title">Placeholder</strong></li>
        <li><strong x-text="items[5].title">Placeholder</strong></li>
        <li><strong x-text="items[6].title">Placeholder</strong></li>
        <li><strong x-text="items[7].title">Placeholder</strong></li>
    </ul>

</div>
<div x-data="{
        users: {},
        async getData() {
            this.users = await (await fetch('https://userticket-api-service-smetsward.cloud.okteto.net/users/?skip=0&limit=100')).json();
        }
    }">
    <button x-on:click="getData">Get all users</button>

    <ul>
        <li><strong x-text="users[0].name">Placeholder</strong> <strong
                x-text="users[0].id">Placeholder</strong></li>
        <li><strong x-text="users[1].name">Placeholder</strong></li>
        <li><strong x-text="users[2].name">Placeholder</strong></li>
        <li><strong x-text="users[3].name">Placeholder</strong></li>
        <li><strong x-text="users[4].name">Placeholder</strong></li>
        <li><strong x-text="users[5].name">Placeholder</strong></li>
        <li><strong x-text="users[6].name">Placeholder</strong></li>
        <li><strong x-text="users[7].name">Placeholder</strong></li>
        <li><strong x-text="users[8].name">Placeholder</strong></li>
        <li><strong x-text="users[9].name">Placeholder</strong></li>
        <li><strong x-text="users[10].name">Placeholder</strong></li>
        <li><strong x-text="users[12].name">Placeholder</strong></li>
        <li><strong x-text="users[13].name">Placeholder</strong></li>
        <li><strong x-text="users[14].name">Placeholder</strong></li>
        <li><strong x-text="users[15].name">Placeholder</strong></li>
        <li><strong x-text="users[16].name">Placeholder</strong></li>
        <li><strong x-text="users[17].name">Placeholder</strong></li>
        <li><strong x-text="users[18].name">Placeholder</strong></li>
    </ul>

</div>

<div x-data="{
        responsedata: null,
        title: null,
        description: null,
        user_id: null,
        async callmethod2() {
            this.responsedata = await (await fetch('https://userticket-api-service-smetsward.cloud.okteto.net/users/'+ this.user_id + '/items/',
            {
                method: 'POST',
                body: JSON.stringify({
                    title: this.title,
                    description: this.description
                }),
                headers: {
                    'Content-type': 'application/json; charset=UTF-8',
                },
            })).json();

            console.log(this.responsedata);
        },
    }">
    <input type="text" x-model="title">
    <input type="text" x-model="description">
    <input type="text" x-model="user_id">

    <button x-on:click="callmethod2">Summit</button>

</div>
</body>

</html>